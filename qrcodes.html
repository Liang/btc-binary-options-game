<!DOCTYPE html>
<html>
<head>
    <title>Join Tournament</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body style="padding: 40px; text-align: center;">
    <h1 style="color:var(--gold)">SELECT YOUR TABLE</h1>
    <div id="qr-grid" class="grid" style="max-width: 800px; margin: auto;"></div>

    <script src="app.js"></script>
    <script>
        stateRef.on('value', snap => {
            const count = snap.val()?.tableCount || 0;
            const grid = document.getElementById('qr-grid');
            grid.innerHTML = '';
            
            for(let i=1; i<=count; i++) {
                const btn = document.createElement('button');
                btn.className = "table-card active";
                btn.style.cursor = "pointer";
                btn.innerHTML = `JOIN TABLE ${i}`;
                btn.onclick = () => window.location.href = `table.html?id=${i}`;
                grid.appendChild(btn);
            }
        });
    </script>
</body>
</html>
